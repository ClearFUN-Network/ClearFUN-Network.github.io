<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yetkili Başvuru Formu</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; text-align: center; }
  .container { max-width: 600px; margin: 50px auto; padding: 20px; background: #fff; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
  input, textarea { width: 90%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; }
  button { width: 95%; padding: 10px; margin: 10px 0; background: #FFD700; border: none; color: #000; font-size: 16px; border-radius: 5px; cursor: pointer; }
  button:hover { background: #e6c200; }
  p { color: red; }
</style>
</head>
<body>
<div class="container">
  <h2>Yetkili Başvuru Formu</h2>
  <form id="yetkiliForm">
    <input type="text" id="adiniz" placeholder="1. Adınız" required>
    <input type="text" id="yasiniz" placeholder="2. Yaşınız" required>
    <input type="text" id="discordIsminiz" placeholder="3. Discord İsminiz" required>
    <textarea id="ozelOzellik" placeholder="4. Kendinizi diğerlerinden öne çıkaran şeyiniz ne?" required></textarea>
    <textarea id="kufur" placeholder="5. Sunucuda biri küfür ediyor ise ne yaparsınız?" required></textarea>
    <textarea id="spam" placeholder="6. Sunucuda biri spam/flood yapıyorsa ne yaparsınız?" required></textarea>
    <textarea id="ekstra" placeholder="7. Eklemek/söylemek istediğiniz ekstra bir şey var mı?"></textarea>
    <button type="submit">Formu Gönder</button>
  </form>
  <p id="status"></p>
</div>

<script>
const form = document.getElementById("yetkiliForm");
const status = document.getElementById("status");

// Discord Webhook URL
const webhookURL = "https://discord.com/api/webhooks/1407821463406514327/iOVfGLZ6XGZ5ghKYe39CMAP7f6sez4xaa4MaISrWvi-ebZSaLyk8WwwQD6lq6zrjknHq";

form.addEventListener("submit", function(e) {
  e.preventDefault();

  const username = localStorage.getItem("loggedInUser");
  if (!username) {
    alert("Formu göndermek için önce giriş yapmalısınız!");
    return;
  }

  const adiniz = document.getElementById("adiniz").value.trim();
  const yasiniz = document.getElementById("yasiniz").value.trim();
  const discordIsminiz = document.getElementById("discordIsminiz").value.trim();
  const ozelOzellik = document.getElementById("ozelOzellik").value.trim();
  const kufur = document.getElementById("kufur").value.trim();
  const spam = document.getElementById("spam").value.trim();
  const ekstra = document.getElementById("ekstra").value.trim() || "Yok";

  const embed = {
    title: `Yetkili Başvuru - ${username}`,
    color: 0xFFD700, // Altın rengi
    fields: [
      { name: "1. Adınız", value: adiniz },
      { name: "2. Yaşınız", value: yasiniz },
      { name: "3. Discord İsminiz", value: discordIsminiz },
      { name: "4. Kendinizi öne çıkaran şey", value: ozelOzellik },
      { name: "5. Küfür durumunda ne yaparsınız?", value: kufur },
      { name: "6. Spam/Flood durumunda ne yaparsınız?", value: spam },
      { name: "7. Ekstra", value: ekstra }
    ]
  };

  fetch(webhookURL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ embeds: [embed] })
  })
  .then(response => {
    if (response.ok) {
      status.style.color = "green";
      status.innerText = "Form başarıyla gönderildi!";
      form.reset();
    } else {
      status.style.color = "red";
      status.innerText = "Form gönderilirken hata oluştu!";
    }
  })
  .catch(err => {
    status.style.color = "red";
    status.innerText = "Form gönderilirken hata oluştu!";
    console.error(err);
  });
});
</script>
</body>
</html>
